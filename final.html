<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ö–æ–¥ —Å—Ç–µ–ø–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:Arial;
  background:linear-gradient(#1f1a10,#3b2f1b);
  color:#f4ecd8;
  text-align:center;
  padding:40px 15px;
}
.box{
  background:#2e2415;
  padding:30px;
  border-radius:20px;
  border:3px solid #d8c48a;
  max-width:420px;
  margin:auto;
}
input{
  padding:10px;
  width:90%;
  border-radius:8px;
  border:none;
  margin-top:10px;
}
button{
  margin-top:15px;
  padding:12px;
  width:100%;
  background:#d8c48a;
  border:none;
  border-radius:12px;
  font-size:16px;
  cursor:pointer;
}
table{
  width:100%;
  margin-top:20px;
  border-collapse:collapse;
}
th,td{
  border:1px solid #d8c48a;
  padding:8px;
}
th{
  background:#3b2f1b;
}
.reset{
  margin-top:25px;
  background:#8b6b3e;
  color:white;
}
</style>
</head>

<body>

<div class="box">
  <h1>üèÅ –ö–æ–¥ —Å—Ç–µ–ø–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</h1>
  <p>–í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è –í–µ–ª–∏–∫–æ–π —Å—Ç–µ–ø–∏.</p>

  <p id="score"></p>

  <input id="name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è —É—á–µ–Ω–∏–∫–∞">
  <button onclick="saveResult()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>

  <h3>‚≠ê –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h3>
  <table id="table">
    <tr>
      <th>‚Ññ</th>
      <th>–ò–º—è</th>
      <th>–ë–∞–ª–ª—ã</th>
    </tr>
  </table>

  <button class="reset" onclick="resetAll()">üîÅ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
</div>

<script>
const score = Number(localStorage.getItem("score") || 0);
document.getElementById("score").innerText = `‚≠ê –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score} –±–∞–ª–ª–æ–≤`;

let results = JSON.parse(localStorage.getItem("results") || "[]");

function saveResult(){
  const name = document.getElementById("name").value.trim();
  if(!name) return alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è");

  results.push({name, score});
  results.sort((a,b)=>b.score-a.score);
  localStorage.setItem("results", JSON.stringify(results));

  document.getElementById("name").disabled = true;
  renderTable();
}

function renderTable(){
  const table = document.getElementById("table");
  table.innerHTML = `
    <tr>
      <th>‚Ññ</th>
      <th>–ò–º—è</th>
      <th>–ë–∞–ª–ª—ã</th>
    </tr>
  `;

  results.forEach((r,i)=>{
    table.innerHTML += `
      <tr>
        <td>${i+1}</td>
        <td>${r.name}</td>
        <td>${r.score}</td>
      </tr>
    `;
  });
}

function resetAll(){
  localStorage.clear();
  location.href = "index.html";
}

renderTable();
</script>

</body>
</html>
