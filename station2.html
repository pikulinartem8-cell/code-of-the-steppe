<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–°—Ç–∞–Ω—Ü–∏—è 2</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:linear-gradient(#f4ecd8,#e2cfa1);padding:15px;}
.quiz{background:#fffaf0;padding:20px;border-radius:14px;border:3px solid #8b6b3e;margin-bottom:20px;}
.option{padding:12px;margin:8px 0;border:2px solid #8b6b3e;border-radius:8px;background:#fff;cursor:pointer;}
.option.correct{background:#c7e3b3;}
.option.wrong{background:#f4bcbc;}
.option.disabled{pointer-events:none;}
.retry{margin-top:10px;padding:10px;width:100%;background:#d8c48a;border:none;border-radius:10px;}
</style>
</head>

<body>

<h2>üíª –°—Ç–∞–Ω—Ü–∏—è 2. –Ø–∑—ã–∫ XXI –≤–µ–∫–∞</h2>

<section class="quiz" data-qid="s2q1">
<p><b>–°–º–∞—Ä—Ç—Ñ–æ–Ω ‚Äî —ç—Ç–æ:</b></p>
<div class="answers">
  <div class="option" data-correct="true">“±—è–ª—ã —Ç–µ–ª–µ—Ñ–æ–Ω</div>
  <div class="option" data-correct="false">”ô–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –∂–µ–ª—ñ</div>
  <div class="option" data-correct="false">–∫”ô—Å—ñ–ø –±–∞—Å—Ç–∞–º–∞—Å—ã</div>
</div>
<button class="retry">üîÅ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
</section>

<section class="quiz" data-qid="s2q2">
<p><b>–ë–ª–æ–≥–µ—Ä ‚Äî —ç—Ç–æ:</b></p>
<div class="answers">
  <div class="option" data-correct="true">–∂–µ–ª—ñ “õ–æ–ª–¥–∞–Ω—É—à—ã</div>
  <div class="option" data-correct="false">–æ–Ω–ª–∞–π–Ω –¥“Ø–∫–µ–Ω</div>
  <div class="option" data-correct="false">“±—è–ª—ã —Ç–µ–ª–µ—Ñ–æ–Ω</div>
</div>
<button class="retry">üîÅ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
</section>

<section class="quiz" data-qid="s2q3">
<p><b>–°—Ç–∞—Ä—Ç–∞–ø ‚Äî —ç—Ç–æ:</b></p>
<div class="answers">
  <div class="option" data-correct="true">–∫”ô—Å—ñ–ø –±–∞—Å—Ç–∞–º–∞—Å—ã</div>
  <div class="option" data-correct="false">”ô–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –∂–µ–ª—ñ</div>
  <div class="option" data-correct="false">–º–æ–±–∏–ª—å–¥—ñ “õ–æ—Å—ã–º—à–∞</div>
</div>
<button class="retry">üîÅ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
</section>

<script>
let score = Number(localStorage.getItem("score") || 0);
let solved = JSON.parse(localStorage.getItem("solved") || "{}");

document.querySelectorAll('.quiz').forEach(quiz=>{
  let answered=false;
  const qid=quiz.dataset.qid;

  function shuffle(){
    const a=quiz.querySelector('.answers');
    [...a.children].sort(()=>Math.random()-0.5).forEach(i=>a.appendChild(i));
  }

  quiz.querySelectorAll('.option').forEach(opt=>{
    opt.onclick=()=>{
      if(answered)return;
      answered=true;
      const correct=opt.dataset.correct==="true";
      opt.classList.add(correct?"correct":"wrong");

      quiz.querySelectorAll('.option').forEach(o=>{
        if(o.dataset.correct==="true")o.classList.add("correct");
        o.classList.add("disabled");
      });

      if(correct && !solved[qid]){
        solved[qid]=true;
        score++;
        localStorage.setItem("score",score);
        localStorage.setItem("solved",JSON.stringify(solved));
      }
    };
  });

  quiz.querySelector('.retry').onclick=()=>{
    answered=false;
    quiz.querySelectorAll('.option').forEach(o=>o.className="option");
    shuffle();
  };

  shuffle();
});
</script>

</body>
</html>
