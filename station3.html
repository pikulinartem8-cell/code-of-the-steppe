<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–°—Ç–∞–Ω—Ü–∏—è 3</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial;background:linear-gradient(#f4ecd8,#e2cfa1);padding:15px;}
.quiz{background:#fffaf0;padding:20px;border-radius:14px;border:3px solid #8b6b3e;margin-bottom:20px;}
.option{padding:12px;margin:8px 0;border:2px solid #8b6b3e;border-radius:8px;background:#fff;cursor:pointer;}
.option.correct{background:#c7e3b3;}
.option.wrong{background:#f4bcbc;}
.option.disabled{pointer-events:none;}
.retry{margin-top:10px;padding:10px;width:100%;background:#d8c48a;border:none;border-radius:10px;}
</style>
</head>

<body>

<h2>üéß –°—Ç–∞–Ω—Ü–∏—è 3. –ì–æ–ª–æ—Å —Å—Ç–µ–ø–∏</h2>

<section class="quiz" data-qid="s3q1">
<p><b>·õè·õü·õÅ –æ–∑–Ω–∞—á–∞–µ—Ç:</b></p>
<div class="answers">
  <div class="option" data-correct="true">–¢–û–ô</div>
  <div class="option" data-correct="false">–ñ–´–†</div>
  <div class="option" data-correct="false">”ò–ù</div>
</div>
<button class="retry">üîÅ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
</section>

<section class="quiz" data-qid="s3q2">
<p><b>·ö¥·ö¢·õÅ –æ–∑–Ω–∞—á–∞–µ—Ç:</b></p>
<div class="answers">
  <div class="option" data-correct="true">–ö“Æ–ô</div>
  <div class="option" data-correct="false">”ò–ù</div>
  <div class="option" data-correct="false">–ë–ò</div>
</div>
<button class="retry">üîÅ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
</section>

<section class="quiz" data-qid="s3q3">
<p><b>·õÉ·õÅ·ö± –æ–∑–Ω–∞—á–∞–µ—Ç:</b></p>
<div class="answers">
  <div class="option" data-correct="true">–ñ–´–†</div>
  <div class="option" data-correct="false">–ö“Æ–ô</div>
  <div class="option" data-correct="false">–¢–û–ô</div>
</div>
<button class="retry">üîÅ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
</section>

<script>
let score = Number(localStorage.getItem("score") || 0);
let solved = JSON.parse(localStorage.getItem("solved") || "{}");

document.querySelectorAll('.quiz').forEach(quiz=>{
  let answered=false;
  const qid=quiz.dataset.qid;

  function shuffle(){
    const a=quiz.querySelector('.answers');
    [...a.children].sort(()=>Math.random()-0.5).forEach(i=>a.appendChild(i));
  }

  quiz.querySelectorAll('.option').forEach(opt=>{
    opt.onclick=()=>{
      if(answered)return;
      answered=true;
      const correct=opt.dataset.correct==="true";
      opt.classList.add(correct?"correct":"wrong");

      quiz.querySelectorAll('.option').forEach(o=>{
        if(o.dataset.correct==="true")o.classList.add("correct");
        o.classList.add("disabled");
      });

      if(correct && !solved[qid]){
        solved[qid]=true;
        score++;
        localStorage.setItem("score",score);
        localStorage.setItem("solved",JSON.stringify(solved));
      }
    };
  });

  quiz.querySelector('.retry').onclick=()=>{
    answered=false;
    quiz.querySelectorAll('.option').forEach(o=>o.className="option");
    shuffle();
  };

  shuffle();
});
</script>

</body>
</html>


